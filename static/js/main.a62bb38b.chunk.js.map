{"version":3,"sources":["assets/textures/cloth.jpg","assets/textures/hardwood_floor.jpg","assets/textures/0.png","assets/textures/1.png","assets/textures/2.png","assets/textures/3.png","assets/textures/4.png","assets/textures/5.png","assets/textures/6.png","assets/textures/7.png","assets/textures/8.png","assets/textures/9.png","assets/textures/10.png","assets/textures/11.png","assets/textures/12.png","assets/textures/13.png","assets/textures/14.png","assets/textures/15.png","svg/ic_code.svg","GlobalStyles.js","components/Modal.js","components/Light.js","components/PoolTable.js","components/Cue.js","components/PoolBall.js","utils/Constants.js","utils/Physics.js","utils/KeyDownListener.js","views/Scene.js","components/Controls.js","components/Button.js","App.js","index.js"],"names":["module","exports","createGlobalStyle","CodeFAB","styled","div","props","src","Canvas","c","ModalBackground","ModalContainer","ModalText","span","ModalButton","Modal","handler","onClick","defaultProps","Light","LightType","type","position","PoolTable","playAreaTexture","useMemo","TextureLoader","load","playAreaTextureURL","wrapS","RepeatWrapping","wrapT","offset","set","repeat","playAreaMaterial","MeshStandardMaterial","map","color","roughness","metalness","bumpScale","edgesTexture","edgeTextureUrl","edgeSideGeometry","BoxGeometry","edgeTopGeometry","edgeMaterial","shape","Shape","moveTo","lineTo","clothSideGeometry","ExtrudeGeometry","steps","depth","bevelEnabled","pocketGeometry","CylinderGeometry","pocketMaterial","MeshBasicMaterial","receiveShadow","attach","args","pos","i","idx","key","rotation","Math","PI","Cue","setRef","cueRef","ref","cueBallRef","speed","castShadow","PoolBall","textureURL","ballTexture","Vector2","pointLightPositions","tableDimensions","topLeft","x","y","topRight","bottomLeft","bottomRight","shoot","force","angle","current","z","speedX","cos","speedY","sin","checkBallCollision","ball1","ball2","dx","dy","sqrt","angle1","atan2","angle2","vel1","vel2","collisionAngle","aSpeedX","aSpeedY","bSpeedX","bSpeedY","round","checkTableCollision","ballRef","dimensions","Constants","pocketed","moveBall","delta","coeff","stepX","stepY","tempMat","Matrix4","makeRotationAxis","Vector3","multiply","matrix","setFromRotationMatrix","event","which","Physics","Scene","poolTableRef","useRef","zeroBallRef","oneBallRef","twoBallRef","threeBallRef","fourBallRef","fiveBallRef","sixBallRef","sevenBallRef","eightBallRef","nineBallRef","tenBallRef","elevenBallRef","twelveBallRef","thirteenBallRef","fourteenBallRef","fifteenBallRef","allBallRefs","useThree","camera","gl","setClearColor","shadowMap","enabled","fov","aspect","window","innerWidth","innerHeight","near","far","up","lookAt","React","useEffect","document","addEventListener","e","KeyDownListerner","removeEventListener","useFrame","state","deltaTime","j","intensity","distance","zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","extend","OrbitControls","Controls","useRender","update","domElement","ChooserButton","top","Button","text","App","useState","modal","setModal","setCoeff","enableRotate","enablePan","maxDistance","minDistance","minPolarAngle","maxPolarAngle","href","target","rel","Icon","ReactDOM","render","GlobalStyles","getElementById"],"mappings":"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","file":"static/js/main.a62bb38b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cloth.d65b9f45.jpg\";","module.exports = __webpack_public_path__ + \"static/media/hardwood_floor.418f71e5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/0.e448b315.png\";","module.exports = __webpack_public_path__ + \"static/media/1.0d1adf35.png\";","module.exports = __webpack_public_path__ + \"static/media/2.9be16ecf.png\";","module.exports = __webpack_public_path__ + \"static/media/3.248246c1.png\";","module.exports = __webpack_public_path__ + \"static/media/4.5164ac33.png\";","module.exports = __webpack_public_path__ + \"static/media/5.053b4de0.png\";","module.exports = __webpack_public_path__ + \"static/media/6.ba87c3ae.png\";","module.exports = __webpack_public_path__ + \"static/media/7.67436792.png\";","module.exports = __webpack_public_path__ + \"static/media/8.828ce1c4.png\";","module.exports = __webpack_public_path__ + \"static/media/9.435dd3d6.png\";","module.exports = __webpack_public_path__ + \"static/media/10.c75ecd31.png\";","module.exports = __webpack_public_path__ + \"static/media/11.78cb5f35.png\";","module.exports = __webpack_public_path__ + \"static/media/12.cee778bb.png\";","module.exports = __webpack_public_path__ + \"static/media/13.0c63b38f.png\";","module.exports = __webpack_public_path__ + \"static/media/14.0b65be63.png\";","module.exports = __webpack_public_path__ + \"static/media/15.b11742ec.png\";","module.exports = __webpack_public_path__ + \"static/media/ic_code.1c9bd072.svg\";","import styled, { createGlobalStyle } from 'styled-components';\nimport { Canvas as c } from 'react-three-fiber';\n\nexport default createGlobalStyle`\n  body {\n    margin: 0;\n    background: black;\n    font-family: \"-apple-system\", \"BlinkMacSystemFont\", \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", \"sans-serif\";\n  }\n`;\n\nexport const CodeFAB = styled.div`\n  position: fixed;\n  height: 24px;\n  width: 24px;\n  bottom: 16px;\n  right: 16px;\n  padding: 12px;\n  border-radius: 50%;\n  margin-bottom: 0px;\n  background-color: #fff;\n  background-image: url(${props => props.src});\n  background-repeat: no-repeat;\n  background-position: center center;\n  opacity: 0.9;\n  z-index: 999;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.15);\n  :hover {\n    cursor: pointer;\n    opacity: 1;\n  }\n`;\n\nexport const Canvas = styled(c)`\n  position: absolute !important;\n  top: 0;\n  left: 0;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst ModalBackground = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  background: grey;\n  opacity: 0.5;\n  z-index: 100;\n`;\n\nconst ModalContainer = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  height: 290px;\n  width: calc(100vw - 40%);\n  margin: 0 auto;\n  background-color: white;\n  padding: 20px;\n  border-radius: 30px;\n  text-align: center;\n`;\n\nconst ModalText = styled.span`\n  color: black;\n  font-size: 24px;\n  font-weight: bolder;\n`;\n\nconst ModalButton = styled.div`\n  height: 24px;\n  width: 48px;\n  margin: 30px auto;\n  background: black;\n  color: white;\n  padding: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n\n  :hover {\n    box-shadow: 2px 2px 2px black;\n  }\n`;\n\nfunction Modal({ handler }) {\n  return (\n    <ModalBackground>\n      <ModalContainer>\n        <ModalText>\n          Please press space bar to hit the cue ball. You&apos;ll be able to\n          play multiple shots with this version. Also, whenever a ball hits a\n          pocket it will be taken of the table and shown on the upper right of\n          the screen. However, currently there isn&apos;t a way to change the\n          direction of the cue and hence the cue ball will only go in one\n          direction.Ah and yes along side translation motion, the balls with\n          transfer rotational motion on collisions.\n        </ModalText>\n        <ModalButton onClick={handler}>Ok</ModalButton>\n      </ModalContainer>\n    </ModalBackground>\n  );\n}\n\nModal.propTypes = {\n  handler: PropTypes.func\n};\n\nModal.defaultProps = {\n  handler: () => {}\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Light(props) {\n  const { type } = props;\n  const LightType = type;\n\n  return <LightType {...props} />;\n}\n\nLight.propTypes = {\n  type: PropTypes.string.isRequired,\n  position: PropTypes.arrayOf(PropTypes.any)\n};\n\nLight.defaultProps = {\n  position: []\n};\n\nexport default Light;\n","import React, { useMemo } from 'react';\nimport {\n  TextureLoader,\n  RepeatWrapping,\n  Shape,\n  ExtrudeGeometry,\n  BoxGeometry,\n  MeshStandardMaterial,\n  CylinderGeometry,\n  MeshBasicMaterial\n} from 'three';\n\nimport playAreaTextureURL from '../assets/textures/cloth.jpg';\nimport edgeTextureUrl from '../assets/textures/hardwood_floor.jpg';\n\nfunction PoolTable() {\n  const pocketPositions = [\n    [-12, 24, 0],\n    [12, 24, 0],\n    [-12.5, 0, 0],\n    [12.5, 0, 0],\n    [-12, -24, 0],\n    [12, -24, 0]\n  ];\n\n  const edgeSidePositions = [\n    [-12.5, 12, 0.7],\n    [12.5, 12, 0.7],\n    [-12.5, -12, 0.7],\n    [12.5, -12, 0.7]\n  ];\n\n  const edgeTopPositions = [[0, 24.5, 0.7], [0, -24.5, 0.7]];\n\n  const clothSidePositions = [\n    [-12, 1, 0.2],\n    [12, 1, 1.2],\n    [-12, -23, 0.2],\n    [12, -23, 1.2]\n  ];\n\n  const clothTopPositions = [[-11, 24, 0.2], [11, -24, 0.2]];\n\n  const playAreaTexture = useMemo(\n    () => new TextureLoader().load(playAreaTextureURL),\n    []\n  );\n\n  playAreaTexture.wrapS = RepeatWrapping;\n  playAreaTexture.wrapT = RepeatWrapping;\n  playAreaTexture.offset.set(0, 0);\n  playAreaTexture.repeat.set(3, 6);\n\n  const playAreaMaterial = new MeshStandardMaterial({\n    map: playAreaTexture,\n    color: 0x42a8ff,\n    roughness: 0.4,\n    metalness: 0,\n    bumpScale: 1\n  });\n\n  const edgesTexture = useMemo(\n    () => new TextureLoader().load(edgeTextureUrl),\n    []\n  );\n\n  const edgeSideGeometry = new BoxGeometry(1, 22, 1);\n  const edgeTopGeometry = new BoxGeometry(22, 1, 1);\n  const edgeMaterial = new MeshStandardMaterial({ map: edgesTexture });\n\n  const shape = new Shape();\n  shape.moveTo(0, 0);\n  shape.lineTo(0, 22);\n  shape.lineTo(0.5, 21.2);\n  shape.lineTo(0.5, 0.8);\n  shape.lineTo(0, 0);\n\n  const extrudeSettings = { steps: 1, depth: 1, bevelEnabled: false };\n\n  const clothSideGeometry = new ExtrudeGeometry(shape, extrudeSettings);\n\n  const pocketGeometry = new CylinderGeometry(1, 1, 1.4, 20);\n  const pocketMaterial = new MeshBasicMaterial({ color: 0x000000 });\n\n  return (\n    <object3D position={[0, 0, -1]}>\n      <mesh receiveShadow>\n        <boxGeometry attach='geometry' args={[24, 48, 1]} />\n        <meshStandardMaterial\n          attach='material'\n          color={0x42a8ff}\n          roughness={0.4}\n          metalness={0}\n          bumpScale={1}\n          map={playAreaTexture}\n        />\n      </mesh>\n      {edgeSidePositions.map((pos, i) => {\n        const idx = i;\n        return (\n          <mesh\n            key={idx}\n            args={[edgeSideGeometry, edgeMaterial]}\n            position={pos}\n          />\n        );\n      })}\n      {edgeTopPositions.map((pos, i) => {\n        const idx = i;\n        return (\n          <mesh\n            key={idx}\n            args={[edgeTopGeometry, edgeMaterial]}\n            position={pos}\n          />\n        );\n      })}\n      {clothSidePositions.map((pos, i) => {\n        const idx = i;\n        return (\n          <mesh\n            key={idx}\n            args={[clothSideGeometry, playAreaMaterial]}\n            position={pos}\n            rotation={\n              idx === 1 || idx === 3 ? [0, (180 * Math.PI) / 180, 0] : [0, 0, 0]\n            }\n          />\n        );\n      })}\n      {clothTopPositions.map((pos, i) => {\n        const idx = i;\n        return (\n          <mesh\n            key={idx}\n            args={[clothSideGeometry, playAreaMaterial]}\n            position={pos}\n            rotation={\n              idx === 0\n                ? [0, 0, (-90 * Math.PI) / 180, 0]\n                : [0, 0, (90 * Math.PI) / 180, 0]\n            }\n          />\n        );\n      })}\n      {pocketPositions.map((pos, i) => {\n        const idx = i;\n        return (\n          <mesh\n            key={idx}\n            args={[pocketGeometry, pocketMaterial]}\n            position={pos}\n            rotation={[1.5708, 0, 0]}\n          />\n        );\n      })}\n    </object3D>\n  );\n}\n\nexport default PoolTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Cue({ setRef, cueRef, position }) {\n  return (\n    <mesh\n      ref={setRef}\n      cueBallRef={cueRef}\n      speed={0.6}\n      position={position}\n      castShadow>\n      <cylinderGeometry attach='geometry' args={[0.1, 0.15, 12, 32, 32]} />\n      <meshPhongMaterial attach='material' color={0xffffff} />\n    </mesh>\n  );\n}\n\nCue.propTypes = {\n  setRef: PropTypes.objectOf(PropTypes.any),\n  cueRef: PropTypes.objectOf(PropTypes.any),\n  position: PropTypes.arrayOf(PropTypes.any)\n};\n\nCue.defaultProps = {\n  setRef: {},\n  cueRef: {},\n  position: [0, 0, 0]\n};\n\nexport default Cue;\n","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TextureLoader, Vector2 } from 'three';\n\nfunction PoolBall({ setRef, position, textureURL }) {\n  const ballTexture = useMemo(() => new TextureLoader().load(textureURL), [\n    textureURL\n  ]);\n\n  return (\n    <mesh ref={setRef} position={position} speed={new Vector2()} castShadow>\n      <sphereGeometry attach='geometry' args={[0.5, 128, 128]} />\n      <meshStandardMaterial\n        attach='material'\n        color={0xffffff}\n        roughness={0.25}\n        metalness={0}\n        map={ballTexture}\n      />\n    </mesh>\n  );\n}\n\nPoolBall.propTypes = {\n  setRef: PropTypes.objectOf(PropTypes.any),\n  position: PropTypes.arrayOf(PropTypes.number),\n  textureURL: PropTypes.string\n};\n\nPoolBall.defaultProps = {\n  setRef: {},\n  position: [],\n  textureURL: ''\n};\n\nexport default PoolBall;\n","const pointLightPositions = [\n  [-5, -12, 20],\n  [5, -12, 20],\n  [-5, 12, 20],\n  [5, 12, 20]\n];\n\nconst tableDimensions = {\n  topLeft: { x: -12, y: 24 },\n  topRight: { x: 12, y: 24 },\n  bottomLeft: { x: -12, y: -24 },\n  bottomRight: { x: 12, y: -24 }\n};\n\nexport default { pointLightPositions, tableDimensions };\n","import { Matrix4, Vector3 } from 'three';\nimport Constants from './Constants';\n\nfunction pocketed(ballRef) {\n  ballRef.current.speed.x = 0;\n  ballRef.current.speed.y = 0;\n  ballRef.current.position.set(50, 50, 0);\n}\n\nfunction shoot(force, ref) {\n  const angle = ref.current.rotation.z - (-90 * Math.PI) / 180;\n  const speedX = Math.cos(angle) * force;\n  const speedY = Math.sin(angle) * force;\n  ref.current.speed.x = speedX;\n  ref.current.speed.y = speedY;\n}\n\nfunction checkBallCollision(ball1, ball2) {\n  const dx = ball2.current.position.x - ball1.current.position.x;\n  const dy = ball2.current.position.y - ball1.current.position.y;\n\n  const distance = Math.sqrt(dx * dx + dy * dy);\n\n  if (distance < 1) {\n    // Collision!\n    // Play sound\n    // sound.play();\n    const angle1 = Math.atan2(ball1.current.speed.y, ball1.current.speed.x);\n    const angle2 = Math.atan2(ball2.current.speed.y, ball2.current.speed.x);\n\n    const vel1 = Math.sqrt(\n      ball1.current.speed.x * ball1.current.speed.x +\n        ball1.current.speed.y * ball1.current.speed.y\n    );\n    const vel2 = Math.sqrt(\n      ball2.current.speed.x * ball2.current.speed.x +\n        ball2.current.speed.y * ball2.current.speed.y\n    );\n\n    const collisionAngle = Math.atan2(dy, dx);\n\n    const aSpeedX =\n      ((2 * vel2 * Math.cos(angle2 - collisionAngle)) / 2) *\n        Math.cos(collisionAngle) +\n      vel1 *\n        Math.sin(angle1 - collisionAngle) *\n        Math.cos(collisionAngle + Math.PI / 2);\n    const aSpeedY =\n      ((2 * vel2 * Math.cos(angle2 - collisionAngle)) / 2) *\n        Math.sin(collisionAngle) +\n      vel1 *\n        Math.sin(angle1 - collisionAngle) *\n        Math.sin(collisionAngle + Math.PI / 2);\n\n    const bSpeedX =\n      ((2 * vel1 * Math.cos(angle1 - collisionAngle)) / 2) *\n        Math.cos(collisionAngle) +\n      vel2 *\n        Math.sin(angle2 - collisionAngle) *\n        Math.cos(collisionAngle + Math.PI / 2);\n    const bSpeedY =\n      ((2 * vel1 * Math.cos(angle1 - collisionAngle)) / 2) *\n        Math.sin(collisionAngle) +\n      vel2 *\n        Math.sin(angle2 - collisionAngle) *\n        Math.sin(collisionAngle + Math.PI / 2);\n\n    // Reset position outside of collision bounds.\n    ball1.current.position.x =\n      ball2.current.position.x -\n      Math.round(Math.cos(collisionAngle) * 1000) / 1000;\n    ball1.current.position.y =\n      ball2.current.position.y -\n      Math.round(Math.sin(collisionAngle) * 1000) / 1000;\n\n    ball1.current.speed.x = aSpeedX;\n    ball1.current.speed.y = aSpeedY;\n    ball2.current.speed.x = bSpeedX;\n    ball2.current.speed.y = bSpeedY;\n  }\n}\n\nfunction checkTableCollision(ballRef) {\n  const dimensions = Constants.tableDimensions;\n\n  if (\n    ballRef.current.position.x + 1 > dimensions.topRight.x ||\n    ballRef.current.position.x - 1 < dimensions.topLeft.x\n  ) {\n    ballRef.current.speed.x *= -1;\n  }\n  if (\n    ballRef.current.position.y + 1 > dimensions.topRight.y ||\n    ballRef.current.position.y - 1 < dimensions.bottomRight.y\n  ) {\n    ballRef.current.speed.y *= -1;\n  }\n\n  if (\n    (ballRef.current.position.x - 1.3 < dimensions.topLeft.x &&\n      ballRef.current.position.y + 1.3 > dimensions.topLeft.y) ||\n    (ballRef.current.position.x + 1.3 > dimensions.topRight.x &&\n      ballRef.current.position.y + 1.3 > dimensions.topRight.y) ||\n    (ballRef.current.position.x - 1.3 < dimensions.bottomLeft.x &&\n      ballRef.current.position.y - 1.3 < dimensions.bottomLeft.y) ||\n    (ballRef.current.position.x + 1.3 > dimensions.bottomRight.x &&\n      ballRef.current.position.y - 1.3 < dimensions.bottomRight.y) ||\n    (ballRef.current.position.x - 0.5 < dimensions.topLeft.x &&\n      (ballRef.current.position.y < 1.2 &&\n        ballRef.current.position.y > -1.2)) ||\n    (ballRef.current.position.x + 0.5 > dimensions.topRight.x &&\n      (ballRef.current.position.y < 1.2 && ballRef.current.position.y > -1.2))\n  ) {\n    pocketed(ballRef);\n  }\n}\n\nfunction moveBall(ballRef, delta, coeff) {\n  // Setting rolling resistance.\n  ballRef.current.speed.x *= 1 - coeff * delta;\n  ballRef.current.speed.y *= 1 - coeff * delta;\n\n  // Set new position according to x/y speed.\n  const stepX = ballRef.current.speed.x * delta;\n  const stepY = ballRef.current.speed.y * delta;\n\n  ballRef.current.position.set(\n    ballRef.current.position.x + stepX,\n    ballRef.current.position.y + stepY,\n    0\n  );\n\n  let tempMat = new Matrix4();\n  tempMat.makeRotationAxis(new Vector3(0, 1, 0), stepX / 0.5);\n  tempMat.multiply(ballRef.current.matrix);\n  ballRef.current.matrix = tempMat;\n  tempMat = new Matrix4();\n  tempMat.makeRotationAxis(new Vector3(1, 0, 0), -stepY / 0.5);\n  tempMat.multiply(ballRef.current.matrix);\n  ballRef.current.matrix = tempMat;\n  ballRef.current.rotation.setFromRotationMatrix(ballRef.current.matrix);\n}\n\nexport default { shoot, checkBallCollision, checkTableCollision, moveBall };\n","import Physics from './Physics';\n\nexport default function(event, ref) {\n  if (event.which === 32) {\n    Physics.shoot(1, ref);\n  }\n}\n","import React, { useRef, useState } from 'react';\nimport { useThree, useFrame } from 'react-three-fiber';\n\nimport Light from '../components/Light';\nimport PoolTable from '../components/PoolTable';\nimport Cue from '../components/Cue';\nimport PoolBall from '../components/PoolBall';\n\nimport Constants from '../utils/Constants';\nimport KeyDownListerner from '../utils/KeyDownListener';\n\nimport zero from '../assets/textures/0.png';\nimport one from '../assets/textures/1.png';\nimport two from '../assets/textures/2.png';\nimport three from '../assets/textures/3.png';\nimport four from '../assets/textures/4.png';\nimport five from '../assets/textures/5.png';\nimport six from '../assets/textures/6.png';\nimport seven from '../assets/textures/7.png';\nimport eight from '../assets/textures/8.png';\nimport nine from '../assets/textures/9.png';\nimport ten from '../assets/textures/10.png';\nimport eleven from '../assets/textures/11.png';\nimport twelve from '../assets/textures/12.png';\nimport thirteen from '../assets/textures/13.png';\nimport fourteen from '../assets/textures/14.png';\nimport fifteen from '../assets/textures/15.png';\nimport Physics from '../utils/Physics';\n\nfunction Scene({ coeff }) {\n  const poolTableRef = useRef();\n  const cueRef = useRef();\n  const zeroBallRef = useRef();\n  const oneBallRef = useRef();\n  const twoBallRef = useRef();\n  const threeBallRef = useRef();\n  const fourBallRef = useRef();\n  const fiveBallRef = useRef();\n  const sixBallRef = useRef();\n  const sevenBallRef = useRef();\n  const eightBallRef = useRef();\n  const nineBallRef = useRef();\n  const tenBallRef = useRef();\n  const elevenBallRef = useRef();\n  const twelveBallRef = useRef();\n  const thirteenBallRef = useRef();\n  const fourteenBallRef = useRef();\n  const fifteenBallRef = useRef();\n\n  const allBallRefs = [\n    zeroBallRef,\n    oneBallRef,\n    twoBallRef,\n    threeBallRef,\n    fourBallRef,\n    fiveBallRef,\n    sixBallRef,\n    sevenBallRef,\n    eightBallRef,\n    nineBallRef,\n    tenBallRef,\n    elevenBallRef,\n    twelveBallRef,\n    thirteenBallRef,\n    fourteenBallRef,\n    fifteenBallRef\n  ];\n\n  const { camera, gl } = useThree();\n\n  gl.setClearColor(0x151515, 1);\n  gl.shadowMap.enabled = false;\n\n  camera.fov = 45;\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.near = 0.1;\n  camera.far = 1000;\n\n  camera.up.set(0, 0, 1);\n  camera.position.set(-5, 7, 5);\n\n  (() => zeroBallRef.current && camera.lookAt(zeroBallRef.current.position))();\n  (() =>\n    zeroBallRef.current &&\n    camera.position.set(\n      zeroBallRef.current.position.x,\n      zeroBallRef.current.position.y,\n      45\n    ))();\n\n  React.useEffect(() => {\n    document.addEventListener('keydown', e =>\n      KeyDownListerner(e, cueRef.current.cueBallRef)\n    );\n    return () => document.removeEventListener('keydown', KeyDownListerner);\n  }, [cueRef]);\n\n  useFrame((state, delta) => {\n    const deltaTime = 60 * delta;\n    for (let i = 0; i < 16; i += 1) {\n      for (let j = 0; j < 16; j += 1) {\n        if (allBallRefs[i] !== allBallRefs[j]) {\n          Physics.checkBallCollision(allBallRefs[i], allBallRefs[j]);\n        }\n      }\n      Physics.checkTableCollision(allBallRefs[i], poolTableRef);\n      Physics.moveBall(allBallRefs[i], deltaTime, coeff);\n    }\n  });\n\n  return (\n    <>\n      {Constants.pointLightPositions.map((pos, i) => {\n        const idx = i;\n        return (\n          <Light\n            key={idx}\n            type='PointLight'\n            color={0xffffff}\n            intensity={0.4}\n            distance={100}\n            position={pos}\n            castShadow\n          />\n        );\n      })}\n      <Light\n        type='AmbientLight'\n        color={0xffffff}\n        intensity={0.2}\n        position={[0, 0, 0]}\n      />\n      <PoolTable setRef={poolTableRef} />\n      <object3D>\n        <PoolBall\n          setRef={zeroBallRef}\n          position={[0, -16, 0]}\n          textureURL={zero}\n        />\n        <PoolBall\n          setRef={oneBallRef}\n          position={[-1.01, 15, 0]}\n          textureURL={one}\n        />\n        <PoolBall\n          setRef={twoBallRef}\n          position={[1.01, 17, 0]}\n          textureURL={two}\n        />\n        <PoolBall\n          setRef={threeBallRef}\n          position={[-0.51, 16, 0]}\n          textureURL={three}\n        />\n        <PoolBall\n          setRef={fourBallRef}\n          position={[-1.01, 17, 0]}\n          textureURL={four}\n        />\n        <PoolBall\n          setRef={fiveBallRef}\n          position={[-2.02, 17, 0]}\n          textureURL={five}\n        />\n        <PoolBall\n          setRef={sixBallRef}\n          position={[1.53, 16, 0]}\n          textureURL={six}\n        />\n        <PoolBall\n          setRef={sevenBallRef}\n          position={[0.51, 14, 0]}\n          textureURL={seven}\n        />\n        <PoolBall\n          setRef={eightBallRef}\n          position={[0, 15, 0]}\n          textureURL={eight}\n        />\n        <PoolBall\n          setRef={nineBallRef}\n          position={[0, 13, 0]}\n          textureURL={nine}\n        />\n        <PoolBall\n          setRef={tenBallRef}\n          position={[0.51, 16, 0]}\n          textureURL={ten}\n        />\n        <PoolBall\n          setRef={elevenBallRef}\n          position={[2.02, 17, 0]}\n          textureURL={eleven}\n        />\n        <PoolBall\n          setRef={twelveBallRef}\n          position={[-0.51, 14, 0]}\n          textureURL={twelve}\n        />\n        <PoolBall\n          setRef={thirteenBallRef}\n          position={[0, 17, 0]}\n          textureURL={thirteen}\n        />\n        <PoolBall\n          setRef={fourteenBallRef}\n          position={[-1.53, 16, 0]}\n          textureURL={fourteen}\n        />\n        <PoolBall\n          setRef={fifteenBallRef}\n          position={[1.01, 15, 0]}\n          textureURL={fifteen}\n        />\n      </object3D>\n      <Cue\n        setRef={cueRef}\n        cueRef={zeroBallRef && zeroBallRef}\n        position={\n          zeroBallRef.current && [\n            zeroBallRef.current.position.x,\n            zeroBallRef.current.position.y,\n            zeroBallRef.current.position.z\n          ]\n        }\n      />\n    </>\n  );\n}\n\nexport default Scene;\n","import React, { useRef } from 'react';\nimport { extend, useThree, useRender } from 'react-three-fiber';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nextend({ OrbitControls });\n\nfunction Controls(props) {\n  const ref = useRef();\n  const { camera, gl } = useThree();\n\n  useRender(() => ref.current.update());\n\n  return <orbitControls ref={ref} args={[camera, gl.domElement]} {...props} />;\n}\n\nexport default Controls;\n","import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst ChooserButton = styled.div`\n  position: absolute;\n  top: ${props => props.top && props.top};\n  right: 64px;\n  height: 24px;\n  background: lightcoral;\n  color: white;\n  padding: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n  z-index: 1000;\n\n  :hover {\n    box-shadow: 2px 2px 2px white;\n  }\n`;\n\nfunction Button({ top, text, handler }) {\n  return (\n    <ChooserButton top={top} onClick={handler}>\n      {text}\n    </ChooserButton>\n  );\n}\n\nButton.propTypes = {\n  top: PropTypes.string,\n  text: PropTypes.string,\n  handler: PropTypes.func\n};\n\nButton.defaultProps = {\n  top: '64px',\n  text: '',\n  handler: () => {}\n};\n\nexport default Button;\n","import React, { useState } from 'react';\n\nimport { Canvas, CodeFAB } from './GlobalStyles';\nimport Modal from './components/Modal';\nimport Scene from './views/Scene';\nimport Controls from './components/Controls';\nimport Button from './components/Button';\n\nimport Icon from './svg/ic_code.svg';\n\nfunction App() {\n  const [modal, setModal] = useState(true);\n  const [coeff, setCoeff] = useState(0.01);\n  return (\n    <>\n      {modal && (\n        <Modal\n          handler={() => {\n            setModal(!modal);\n          }}\n        />\n      )}\n      <Button handler={() => setCoeff(0.01)} text='Normal'>\n        Normal\n      </Button>\n      <Button\n        top='128px'\n        handler={() => setCoeff(0.03)}\n        text='Heavy Friction'\n      />\n      <Button\n        top='192px'\n        handler={() => setCoeff(0.001)}\n        text='Heavy Restitution'\n      />\n      <Canvas>\n        <Scene coeff={coeff} />\n        <Controls\n          enableRotate\n          enablePan={false}\n          maxDistance={100}\n          minDistance={5}\n          minPolarAngle={Math.PI / 6}\n          maxPolarAngle={Math.PI / 2}\n        />\n      </Canvas>\n      <a\n        href='https://github.com/manan30/billiards'\n        target='_blank'\n        rel='noopener noreferrer'>\n        <CodeFAB src={Icon} />\n      </a>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport GlobalStyles from './GlobalStyles';\n\nReactDOM.render(\n  <>\n    <GlobalStyles />\n    <App />\n  </>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}